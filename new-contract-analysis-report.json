{
  "timestamp": "2025-08-18T15:16:59.566Z",
  "summary": {
    "expectedEventsCount": 11,
    "currentSchemaEntitiesCount": 5,
    "missingInSchemaCount": 8,
    "modifiedEventsCount": 1,
    "obsoleteEventsCount": 2,
    "extraInSchemaCount": 0
  },
  "expectedEvents": [
    {
      "name": "LogCommitSpec",
      "parameters": [
        {
          "name": "committer",
          "type": "address",
          "indexed": true
        },
        {
          "name": "commitmentId",
          "type": "bytes32",
          "indexed": true
        },
        {
          "name": "targetContract",
          "type": "address",
          "indexed": true
        },
        {
          "name": "chainId",
          "type": "uint256",
          "indexed": false
        },
        {
          "name": "bondAmount",
          "type": "uint256",
          "indexed": false
        },
        {
          "name": "revealDeadline",
          "type": "uint64",
          "indexed": false
        }
      ]
    },
    {
      "name": "LogRevealSpec",
      "parameters": [
        {
          "name": "creator",
          "type": "address",
          "indexed": true
        },
        {
          "name": "specID",
          "type": "bytes32",
          "indexed": true
        },
        {
          "name": "commitmentId",
          "type": "bytes32",
          "indexed": true
        },
        {
          "name": "ipfs",
          "type": "string",
          "indexed": false
        },
        {
          "name": "targetContract",
          "type": "address",
          "indexed": false
        },
        {
          "name": "chainId",
          "type": "uint256",
          "indexed": false
        }
      ]
    },
    {
      "name": "LogCreateSpec",
      "parameters": [
        {
          "name": "creator",
          "type": "address",
          "indexed": true
        },
        {
          "name": "specID",
          "type": "bytes32",
          "indexed": true
        },
        {
          "name": "ipfs",
          "type": "string",
          "indexed": false
        },
        {
          "name": "targetContract",
          "type": "address",
          "indexed": true
        },
        {
          "name": "chainId",
          "type": "uint256",
          "indexed": false
        },
        {
          "name": "timestamp",
          "type": "uint256",
          "indexed": false
        },
        {
          "name": "incentiveId",
          "type": "bytes32",
          "indexed": false
        }
      ]
    },
    {
      "name": "LogProposeSpec",
      "parameters": [
        {
          "name": "user",
          "type": "address",
          "indexed": true
        },
        {
          "name": "specID",
          "type": "bytes32",
          "indexed": true
        },
        {
          "name": "questionId",
          "type": "bytes32",
          "indexed": false
        },
        {
          "name": "bond",
          "type": "uint256",
          "indexed": false
        }
      ]
    },
    {
      "name": "LogHandleResult",
      "parameters": [
        {
          "name": "specID",
          "type": "bytes32",
          "indexed": true
        },
        {
          "name": "isAccepted",
          "type": "bool",
          "indexed": false
        }
      ]
    },
    {
      "name": "LogIncentiveCreated",
      "parameters": [
        {
          "name": "incentiveId",
          "type": "bytes32",
          "indexed": true
        },
        {
          "name": "creator",
          "type": "address",
          "indexed": true
        },
        {
          "name": "targetContract",
          "type": "address",
          "indexed": true
        },
        {
          "name": "chainId",
          "type": "uint256",
          "indexed": false
        },
        {
          "name": "token",
          "type": "address",
          "indexed": false
        },
        {
          "name": "amount",
          "type": "uint256",
          "indexed": false
        },
        {
          "name": "deadline",
          "type": "uint64",
          "indexed": false
        },
        {
          "name": "description",
          "type": "string",
          "indexed": false
        }
      ]
    },
    {
      "name": "LogIncentiveClaimed",
      "parameters": [
        {
          "name": "incentiveId",
          "type": "bytes32",
          "indexed": true
        },
        {
          "name": "claimer",
          "type": "address",
          "indexed": true
        },
        {
          "name": "specID",
          "type": "bytes32",
          "indexed": true
        },
        {
          "name": "amount",
          "type": "uint256",
          "indexed": false
        }
      ]
    },
    {
      "name": "LogIncentiveClawback",
      "parameters": [
        {
          "name": "incentiveId",
          "type": "bytes32",
          "indexed": true
        },
        {
          "name": "creator",
          "type": "address",
          "indexed": true
        },
        {
          "name": "amount",
          "type": "uint256",
          "indexed": false
        }
      ]
    },
    {
      "name": "LogContractSpecAdded",
      "parameters": [
        {
          "name": "targetContract",
          "type": "address",
          "indexed": true
        },
        {
          "name": "specID",
          "type": "bytes32",
          "indexed": true
        },
        {
          "name": "creator",
          "type": "address",
          "indexed": true
        },
        {
          "name": "chainId",
          "type": "uint256",
          "indexed": false
        }
      ]
    },
    {
      "name": "LogEmergencyPause",
      "parameters": [
        {
          "name": "admin",
          "type": "address",
          "indexed": true
        }
      ]
    },
    {
      "name": "LogEmergencyUnpause",
      "parameters": [
        {
          "name": "admin",
          "type": "address",
          "indexed": true
        }
      ]
    }
  ],
  "currentSchemaEntities": [
    {
      "name": "LogAssertSpecInvalid",
      "fields": [
        {
          "name": "user",
          "type": "Bytes",
          "required": true
        },
        {
          "name": "specID",
          "type": "Bytes",
          "required": true
        },
        {
          "name": "questionId",
          "type": "Bytes",
          "required": true
        },
        {
          "name": "bond",
          "type": "BigInt",
          "required": true
        }
      ]
    },
    {
      "name": "LogAssertSpecValid",
      "fields": [
        {
          "name": "user",
          "type": "Bytes",
          "required": true
        },
        {
          "name": "specID",
          "type": "Bytes",
          "required": true
        },
        {
          "name": "questionId",
          "type": "Bytes",
          "required": true
        },
        {
          "name": "bond",
          "type": "BigInt",
          "required": true
        }
      ]
    },
    {
      "name": "LogCreateSpec",
      "fields": [
        {
          "name": "user",
          "type": "Bytes",
          "required": true
        },
        {
          "name": "specID",
          "type": "Bytes",
          "required": true
        },
        {
          "name": "ipfs",
          "type": "String",
          "required": true
        }
      ]
    },
    {
      "name": "LogHandleResult",
      "fields": [
        {
          "name": "specID",
          "type": "Bytes",
          "required": true
        },
        {
          "name": "isAccepted",
          "type": "Boolean",
          "required": true
        }
      ]
    },
    {
      "name": "LogProposeSpec",
      "fields": [
        {
          "name": "user",
          "type": "Bytes",
          "required": true
        },
        {
          "name": "specID",
          "type": "Bytes",
          "required": true
        },
        {
          "name": "questionId",
          "type": "Bytes",
          "required": true
        },
        {
          "name": "bond",
          "type": "BigInt",
          "required": true
        }
      ]
    }
  ],
  "differences": {
    "missingInSchema": [
      {
        "name": "LogCommitSpec",
        "parameters": [
          {
            "name": "committer",
            "type": "address",
            "indexed": true
          },
          {
            "name": "commitmentId",
            "type": "bytes32",
            "indexed": true
          },
          {
            "name": "targetContract",
            "type": "address",
            "indexed": true
          },
          {
            "name": "chainId",
            "type": "uint256",
            "indexed": false
          },
          {
            "name": "bondAmount",
            "type": "uint256",
            "indexed": false
          },
          {
            "name": "revealDeadline",
            "type": "uint64",
            "indexed": false
          }
        ]
      },
      {
        "name": "LogRevealSpec",
        "parameters": [
          {
            "name": "creator",
            "type": "address",
            "indexed": true
          },
          {
            "name": "specID",
            "type": "bytes32",
            "indexed": true
          },
          {
            "name": "commitmentId",
            "type": "bytes32",
            "indexed": true
          },
          {
            "name": "ipfs",
            "type": "string",
            "indexed": false
          },
          {
            "name": "targetContract",
            "type": "address",
            "indexed": false
          },
          {
            "name": "chainId",
            "type": "uint256",
            "indexed": false
          }
        ]
      },
      {
        "name": "LogIncentiveCreated",
        "parameters": [
          {
            "name": "incentiveId",
            "type": "bytes32",
            "indexed": true
          },
          {
            "name": "creator",
            "type": "address",
            "indexed": true
          },
          {
            "name": "targetContract",
            "type": "address",
            "indexed": true
          },
          {
            "name": "chainId",
            "type": "uint256",
            "indexed": false
          },
          {
            "name": "token",
            "type": "address",
            "indexed": false
          },
          {
            "name": "amount",
            "type": "uint256",
            "indexed": false
          },
          {
            "name": "deadline",
            "type": "uint64",
            "indexed": false
          },
          {
            "name": "description",
            "type": "string",
            "indexed": false
          }
        ]
      },
      {
        "name": "LogIncentiveClaimed",
        "parameters": [
          {
            "name": "incentiveId",
            "type": "bytes32",
            "indexed": true
          },
          {
            "name": "claimer",
            "type": "address",
            "indexed": true
          },
          {
            "name": "specID",
            "type": "bytes32",
            "indexed": true
          },
          {
            "name": "amount",
            "type": "uint256",
            "indexed": false
          }
        ]
      },
      {
        "name": "LogIncentiveClawback",
        "parameters": [
          {
            "name": "incentiveId",
            "type": "bytes32",
            "indexed": true
          },
          {
            "name": "creator",
            "type": "address",
            "indexed": true
          },
          {
            "name": "amount",
            "type": "uint256",
            "indexed": false
          }
        ]
      },
      {
        "name": "LogContractSpecAdded",
        "parameters": [
          {
            "name": "targetContract",
            "type": "address",
            "indexed": true
          },
          {
            "name": "specID",
            "type": "bytes32",
            "indexed": true
          },
          {
            "name": "creator",
            "type": "address",
            "indexed": true
          },
          {
            "name": "chainId",
            "type": "uint256",
            "indexed": false
          }
        ]
      },
      {
        "name": "LogEmergencyPause",
        "parameters": [
          {
            "name": "admin",
            "type": "address",
            "indexed": true
          }
        ]
      },
      {
        "name": "LogEmergencyUnpause",
        "parameters": [
          {
            "name": "admin",
            "type": "address",
            "indexed": true
          }
        ]
      }
    ],
    "extraInSchema": [],
    "modifiedEvents": [
      {
        "eventName": "LogCreateSpec",
        "modifications": [
          {
            "type": "missing_field",
            "parameterName": "creator",
            "parameterType": "address",
            "expectedGraphQLType": "Bytes"
          },
          {
            "type": "missing_field",
            "parameterName": "targetContract",
            "parameterType": "address",
            "expectedGraphQLType": "Bytes"
          },
          {
            "type": "missing_field",
            "parameterName": "chainId",
            "parameterType": "uint256",
            "expectedGraphQLType": "BigInt"
          },
          {
            "type": "missing_field",
            "parameterName": "timestamp",
            "parameterType": "uint256",
            "expectedGraphQLType": "BigInt"
          },
          {
            "type": "missing_field",
            "parameterName": "incentiveId",
            "parameterType": "bytes32",
            "expectedGraphQLType": "Bytes"
          },
          {
            "type": "extra_field",
            "fieldName": "user",
            "fieldType": "Bytes"
          }
        ],
        "expectedEvent": {
          "name": "LogCreateSpec",
          "parameters": [
            {
              "name": "creator",
              "type": "address",
              "indexed": true
            },
            {
              "name": "specID",
              "type": "bytes32",
              "indexed": true
            },
            {
              "name": "ipfs",
              "type": "string",
              "indexed": false
            },
            {
              "name": "targetContract",
              "type": "address",
              "indexed": true
            },
            {
              "name": "chainId",
              "type": "uint256",
              "indexed": false
            },
            {
              "name": "timestamp",
              "type": "uint256",
              "indexed": false
            },
            {
              "name": "incentiveId",
              "type": "bytes32",
              "indexed": false
            }
          ]
        },
        "currentEntity": {
          "name": "LogCreateSpec",
          "fields": [
            {
              "name": "user",
              "type": "Bytes",
              "required": true
            },
            {
              "name": "specID",
              "type": "Bytes",
              "required": true
            },
            {
              "name": "ipfs",
              "type": "String",
              "required": true
            }
          ]
        }
      }
    ],
    "obsoleteEvents": [
      {
        "name": "LogAssertSpecInvalid",
        "fields": [
          {
            "name": "user",
            "type": "Bytes",
            "required": true
          },
          {
            "name": "specID",
            "type": "Bytes",
            "required": true
          },
          {
            "name": "questionId",
            "type": "Bytes",
            "required": true
          },
          {
            "name": "bond",
            "type": "BigInt",
            "required": true
          }
        ]
      },
      {
        "name": "LogAssertSpecValid",
        "fields": [
          {
            "name": "user",
            "type": "Bytes",
            "required": true
          },
          {
            "name": "specID",
            "type": "Bytes",
            "required": true
          },
          {
            "name": "questionId",
            "type": "Bytes",
            "required": true
          },
          {
            "name": "bond",
            "type": "BigInt",
            "required": true
          }
        ]
      }
    ]
  },
  "generatedEntityDefinitions": {
    "missing": [
      {
        "eventName": "LogCommitSpec",
        "definition": "type LogCommitSpec @entity(immutable: true) {\n  id: Bytes!\n  committer: Bytes! # address\n  commitmentId: Bytes! # bytes32\n  targetContract: Bytes! # address\n  chainId: BigInt! # uint256\n  bondAmount: BigInt! # uint256\n  revealDeadline: BigInt! # uint64\n  blockNumber: BigInt!\n  blockTimestamp: BigInt!\n  transactionHash: Bytes!\n}\n"
      },
      {
        "eventName": "LogRevealSpec",
        "definition": "type LogRevealSpec @entity(immutable: true) {\n  id: Bytes!\n  creator: Bytes! # address\n  specID: Bytes! # bytes32\n  commitmentId: Bytes! # bytes32\n  ipfs: String! # string\n  targetContract: Bytes! # address\n  chainId: BigInt! # uint256\n  blockNumber: BigInt!\n  blockTimestamp: BigInt!\n  transactionHash: Bytes!\n}\n"
      },
      {
        "eventName": "LogIncentiveCreated",
        "definition": "type LogIncentiveCreated @entity(immutable: true) {\n  id: Bytes!\n  incentiveId: Bytes! # bytes32\n  creator: Bytes! # address\n  targetContract: Bytes! # address\n  chainId: BigInt! # uint256\n  token: Bytes! # address\n  amount: BigInt! # uint256\n  deadline: BigInt! # uint64\n  description: String! # string\n  blockNumber: BigInt!\n  blockTimestamp: BigInt!\n  transactionHash: Bytes!\n}\n"
      },
      {
        "eventName": "LogIncentiveClaimed",
        "definition": "type LogIncentiveClaimed @entity(immutable: true) {\n  id: Bytes!\n  incentiveId: Bytes! # bytes32\n  claimer: Bytes! # address\n  specID: Bytes! # bytes32\n  amount: BigInt! # uint256\n  blockNumber: BigInt!\n  blockTimestamp: BigInt!\n  transactionHash: Bytes!\n}\n"
      },
      {
        "eventName": "LogIncentiveClawback",
        "definition": "type LogIncentiveClawback @entity(immutable: true) {\n  id: Bytes!\n  incentiveId: Bytes! # bytes32\n  creator: Bytes! # address\n  amount: BigInt! # uint256\n  blockNumber: BigInt!\n  blockTimestamp: BigInt!\n  transactionHash: Bytes!\n}\n"
      },
      {
        "eventName": "LogContractSpecAdded",
        "definition": "type LogContractSpecAdded @entity(immutable: true) {\n  id: Bytes!\n  targetContract: Bytes! # address\n  specID: Bytes! # bytes32\n  creator: Bytes! # address\n  chainId: BigInt! # uint256\n  blockNumber: BigInt!\n  blockTimestamp: BigInt!\n  transactionHash: Bytes!\n}\n"
      },
      {
        "eventName": "LogEmergencyPause",
        "definition": "type LogEmergencyPause @entity(immutable: true) {\n  id: Bytes!\n  admin: Bytes! # address\n  blockNumber: BigInt!\n  blockTimestamp: BigInt!\n  transactionHash: Bytes!\n}\n"
      },
      {
        "eventName": "LogEmergencyUnpause",
        "definition": "type LogEmergencyUnpause @entity(immutable: true) {\n  id: Bytes!\n  admin: Bytes! # address\n  blockNumber: BigInt!\n  blockTimestamp: BigInt!\n  transactionHash: Bytes!\n}\n"
      }
    ],
    "updated": [
      {
        "eventName": "LogCreateSpec",
        "definition": "type LogCreateSpec @entity(immutable: true) {\n  id: Bytes!\n  creator: Bytes! # address\n  specID: Bytes! # bytes32\n  ipfs: String! # string\n  targetContract: Bytes! # address\n  chainId: BigInt! # uint256\n  timestamp: BigInt! # uint256\n  incentiveId: Bytes! # bytes32\n  blockNumber: BigInt!\n  blockTimestamp: BigInt!\n  transactionHash: Bytes!\n}\n",
        "modifications": [
          {
            "type": "missing_field",
            "parameterName": "creator",
            "parameterType": "address",
            "expectedGraphQLType": "Bytes"
          },
          {
            "type": "missing_field",
            "parameterName": "targetContract",
            "parameterType": "address",
            "expectedGraphQLType": "Bytes"
          },
          {
            "type": "missing_field",
            "parameterName": "chainId",
            "parameterType": "uint256",
            "expectedGraphQLType": "BigInt"
          },
          {
            "type": "missing_field",
            "parameterName": "timestamp",
            "parameterType": "uint256",
            "expectedGraphQLType": "BigInt"
          },
          {
            "type": "missing_field",
            "parameterName": "incentiveId",
            "parameterType": "bytes32",
            "expectedGraphQLType": "Bytes"
          },
          {
            "type": "extra_field",
            "fieldName": "user",
            "fieldType": "Bytes"
          }
        ]
      }
    ]
  },
  "recommendations": [
    {
      "type": "add_entities",
      "priority": "high",
      "description": "Add 8 new event entities to schema.graphql",
      "events": [
        "LogCommitSpec",
        "LogRevealSpec",
        "LogIncentiveCreated",
        "LogIncentiveClaimed",
        "LogIncentiveClawback",
        "LogContractSpecAdded",
        "LogEmergencyPause",
        "LogEmergencyUnpause"
      ],
      "action": "Add the generated entity definitions to your schema.graphql file"
    },
    {
      "type": "update_entities",
      "priority": "high",
      "description": "Update 1 existing event entities in schema.graphql",
      "events": [
        "LogCreateSpec"
      ],
      "action": "Replace existing entity definitions with the updated versions"
    },
    {
      "type": "remove_entities",
      "priority": "medium",
      "description": "Remove 2 obsolete event entities from schema.graphql",
      "entities": [
        "LogAssertSpecInvalid",
        "LogAssertSpecValid"
      ],
      "action": "Delete these entity definitions as they are no longer emitted by the new contract"
    },
    {
      "type": "update_abi",
      "priority": "critical",
      "description": "Generate new ABI from the updated contract source code",
      "action": "Extract ABI from the new contract deployment and replace the existing KaiSign.json file"
    },
    {
      "type": "update_subgraph_config",
      "priority": "high",
      "description": "Update subgraph.yaml with new contract address and event handlers",
      "action": "Change contract address to 0xA2119F82f3F595DB34fa059785BeA2f4F78D418B and add handlers for new events"
    }
  ]
}