specVersion: 1.3.0
indexerHints:
  prune: auto
features:
  - ipfsOnEthereumContracts
schema:
  file: ./schema.graphql
dataSources:
  - kind: ethereum
    name: KaiSign
    network: sepolia
    source:
      address: "0x4dFEA0C2B472a14cD052a8f9DF9f19fa5CF03719"
      abi: KaiSign
      startBlock: 8840000
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.9
      language: wasm/assemblyscript
      entities:
        - Contract
        - Function
        - Spec
        - LogCommitSpec
        - LogRevealSpec
        - LogCreateSpec
        - LogProposeSpec
        - LogHandleResult
        - LogIncentiveCreated
        - LogIncentiveClaimed
        - LogIncentiveClawback
        - LogContractSpecAdded
        - LogEmergencyPause
        - LogEmergencyUnpause
      abis:
        - name: KaiSign
          file: ./abis/KaiSign.json
      eventHandlers:
        - event: LogCommitSpec(indexed address,indexed bytes32,indexed address,uint256,uint256,uint64)
          handler: handleLogCommitSpec
        - event: LogRevealSpec(indexed address,indexed bytes32,indexed bytes32,bytes32,address,uint256)
          handler: handleLogRevealSpec
        - event: LogCreateSpec(indexed address,indexed bytes32,indexed bytes32,address,uint256,uint256,bytes32)
          handler: handleLogCreateSpec
        - event: LogProposeSpec(indexed address,indexed bytes32,bytes32,uint256)
          handler: handleLogProposeSpec
        - event: LogHandleResult(indexed bytes32,bool)
          handler: handleLogHandleResult
        - event: LogIncentiveCreated(indexed bytes32,indexed address,indexed address,uint256,uint256,uint64,string)
          handler: handleLogIncentiveCreated
        - event: LogIncentiveClaimed(indexed bytes32,indexed address,indexed bytes32,uint256)
          handler: handleLogIncentiveClaimed
        - event: LogIncentiveClawback(indexed bytes32,indexed address,uint256)
          handler: handleLogIncentiveClawback
        - event: LogContractSpecAdded(indexed address,indexed bytes32,indexed address,uint256,bytes32)
          handler: handleLogContractSpecAdded
        - event: LogEmergencyPause(indexed address)
          handler: handleLogEmergencyPause
        - event: LogEmergencyUnpause(indexed address)
          handler: handleLogEmergencyUnpause
      file: ./src/kai-sign.ts
